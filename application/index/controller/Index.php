<?php
namespace app\index\controller;

class Index
{
    public function index()
    {
		$url='http://192.168.102.104/admin/views/user/login.html';
		header("Location: $url");
    }

	public function test()
	{
		$str="980,982,1013,1016,1053,1054,1055,1056,1057,1058,1065,1071,1075,1078,1080,1088,1091,1096,1100,1117,1120,1122,1130,1131,1133,1134,1136,1138,1139,1140,1141,1142,1143,1144,1145,1147,1148,1149,1151,1154,1159,1160,1165,1169,1170,1179,1184,1185,1186,1187,1188,1190,1191,1192,1194,1195,1206,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1224,1225,1226,1229,1232,1233,1235,1283,1286,1287,1290,1291,1292,1293,1294,1296,1297,1301,1304,1305,1306,1307,1310,1313,1316,1324,1327,1332,1336,1337,1338,1339,1340,1341,1362,1370,1382,1387,1389,1449,1452,1453,1454,1456,1459,1545,1547,1550,1555,1563,1567,1568,1569,1571,1573,1575,1578,1579,1581,1582,1599,1638,1641,1644,1651,1652,1664,1667,1669,1670,1672,1673,1674,1675,1676,1677,1678,1683,1687,1688,1689,1693,1696,1697,1700,1706,1708,1709,1711,1712,1714,1741,1748,1778,1780,1781,1784,1785,1786,1787,1788,1789,1790,1791,1793,1795,1797,1799,1801,1802,1804,1806,1807,1808,1812,1814,1815,1816,1817,1818,1820,1822,1823,1824,1825,1826,1827,1829,1832,1833,1834,1835,1837,1838,1840,1841,1842,1843,1845,1846,1847,1848,1849,1850,1859,1860,1862,1863,1864,1865,1866,1869,1870,1871,1872,1873,1874,1875,1876,1878,1880,1881,1884,1885,1886,1889,1890,1891,1893,1895,1896,1900,1901,1905,1906,1907,1908,1909,1912,1913,1914,1915,1916,1917,1918,1919,1922,1923,1924,1925,1926,1928,1931,1932,1936,1939,1940,1941,1942,1943,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1957,1958,1960,1961,1962,1963,1965,1966,1967,1968,1969,1970,1971,1973,1974,1988,1991,1992,1993,1994,1995,1997,1998,1999,2000,2002,2003,2006,2007,2011,2013,2015,2017,2018,2020,2021,2022,2023,2024,2025,2027,2028,2029,2030,2031,2032,2034,2039,2040,2053,2062,2063,2065,2066,2067,2068,2069,2070,2071,2074,2079,2081,2082,2083,2086,2087,2088,2089,2090,2091,2092,2093,2096,2098,2099,2107,2108,2109,2110,2111,2112,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2125,2126,2127,2129,2130,2131,2133,2134,2135,2137,2138,2139,2141,2142,2144,2146,2147,2148,2149,2150,2151,2153,2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2186,2187,2189,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2230,2231,2232,2233,2234,2235,2236,2238,2239,2240,2241,2242,2243,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2263,2265,2267,2268,2269,2271,2272,2273,2275,2276,2277,2281,2282,2283,2286,2287,2288,2289,2290,2291,2300,2301,2302,2303,2304,2305,2306,2313,2314,2324,2325,2330,2331,2332,2333,2334,2338,2339,2340,2341,2345,2346,2350,2362,2363,2364,2365,2366,2369,2371,2385,2386,2387,2388,2389,2390,2391,2392,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2409,2411,2415,2417,2418,2419,2420,2421";
		$array=explode(",",$str);
		$addr1="http://172.16.10.4:9999/general/tp/public/index.php?s=etyy/Cate/Category/view&id=";
		$addr2="&conting=0&table=file_content";
		$new_array=array();
		foreach ($array as $key=>$val)
		{
			$new_array[]=$addr1.$val.$addr2;
		}
		halt($new_array);
		
		
	}
	public function site_upload()
	{
		 // 获取表单上传文件 例如上传了001.jpg
		$file = request()->file('file');
		// 移动到框架应用根目录/uploads/ 目录下
		$info = $file->move( ROOT_PATH . 'public' . DS . 'uploads');
		$res=array();
		if($info)
		{
			// 成功上传后 获取上传信息
			// 输出 jpg
			$res['Extension']=$info->getExtension();
			$res['SaveName']=  $_SERVER['HTTP_HOST'] . DS . 'uploads'.DS.$info->getSaveName();
			$res['Filename']=$info->getFilename(); 
			return ["data"=>$res,"code"=>200,"message"=>"上传完成"];
		}
		else
		{
			// 上传失败获取错误信息
			$res['Error']=$file->getError();
			return ["data"=>$res,"code"=>404,"message"=>"上传失败"];
		}
	}

	public function site_insert()
	{	
		
	}
}
